
@{
    ViewBag.Title = "BannerShow";
    Layout = null;
    <style>
        .carousel-caption {
    right: 15% !important;
    left: 15% !important;
    padding-bottom: 30px;
}
.card-body {
    background-color: #fb0000;
    padding: 20px 0;
    border-radius: 10px;
}
.card-body p {
    font-size: 18px;
    text-shadow: none;
}
.card-body h3 {
    font-size: 42px !important;
    text-shadow: none;
}
  .carousel-caption {
    top: 28%;
}
    </style>
}
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

<div class="container">
    <h2>Banner</h2>
    <div id="myCarousel" class="carousel slide" data-ride="carousel">
        <!-- Indicators -->
        <ol class="carousel-indicators">

            @*@if (ViewBag.BannerList != null)
                {
                    foreach (var item in ViewBag.BannerList)
                    {
                        <li data-target="#myCarousel" data-slide-to="@item.Id" class="active"></li>
                    }
                }*@
            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
            <li data-target="#myCarousel" data-slide-to="1"></li>
            @*<li data-target="#myCarousel" data-slide-to="2"></li>*@
        </ol>

        <!-- Wrapper for slides -->
        <div class="carousel-inner">
            @if (ViewBag.BannerList != null)
            {
                
                var sn = 1;
                foreach (var item in ViewBag.BannerList)
                {
                    if (ViewBag.BannerList[0].ImagePath == item.ImagePath)
                    {<div class="item active" style="max-height:400px">
                <img src="@item.ImagePath" alt="New York" style="max-height:400px; width:100%">
                <div class="carousel-caption">
                    <div class="row">
                        <div class="col-md-3" >
                            <div class="card">
                                <div class="card-body" style="background:#fff !important" >
                                    <h3 id="dd_@sn" class="Days" style="color:#333 !important"></h3>
                                    <p style="color:#333;">Days</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card">
                                <div class="card-body">
                                    <h3 id="hh_@sn" class="Hours"></h3>
                                    <p>Hours</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3" >
                            <div class="card">
                                <div class="card-body" style="background:#fff !important" >
                                    <h3 id="mm_@sn" class="Minute" style="color:#333 !important"></h3>
                                    <p style="color:#333 !important">Minute</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3" >
                            <div class="card">
                                <div class="card-body">
                                    <h3 id="ss_@sn" class="second"></h3>
                                    <p>Seconds</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
                    }
                    else
                    {
                        <div class="item " style="max-height:400px">
                <img src="@item.ImagePath" alt="New York" style="max-height:400px; width:100%">
                <div class="carousel-caption">
                    <div class="row">
                        <div class="col-md-3">
                            <div class="card">
                                <div class="card-body" style="background-color:brown;">
                                    <h3 id="dd_@sn" class="Days"></h3>
                                    <p>Days</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card">
                                <div class="card-body" style="background-color:brown;">
                                    <h3 id="hh_@sn" class="Hours"></h3>
                                    <p>Hours</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card">
                                <div class="card-body" style="background-color:brown;">
                                    <h3 id="mm_@sn" class="Minute"></h3>
                                    <p>Minute</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card">
                                <div class="card-body" style="background-color:brown;">
                                    <h3 id="ss_@sn" class="second"></h3>
                                    <p>Seconds</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
                    }


                    <script>
                        debugger
                       
                        var countDownDate = new Date("@item.EndDate @item.EndTime").getTime();
                        var x = setInterval(function () {
                            var now = new Date().getTime();
                            var distance = countDownDate - now;
                            var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                            var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                            var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                            var seconds = Math.floor((distance % (1000 * 60)) / 1000);
                            document.getElementById('dd_@sn').innerHTML = days + "d ";
                            document.getElementById('hh_@sn').innerHTML = hours + "h ";
                            document.getElementById('mm_@sn').innerHTML = minutes + "m ";
                            document.getElementById('ss_@sn').innerHTML = seconds + "s ";

                        }, 1000);
                    </script>

                   
                    sn++;
                }
            }

            @*<div class="item active" style="max-height:400px">
                    <img src="~/images/Bronze-Badge.png" alt="New York" style="max-height:400px; width:100%">
                    <div class="carousel-caption">
                        <div class="row">
                            <div style="height:80px;width:80px;">
                                <div class="card">
                                    <div class="card-body" style="background-color:brown;">
                                        <h3 id="Days"></h3>
                                        <p>Days</p>
                                    </div>
                                </div>
                            </div>
                            <div style="height:80px;width:80px;">
                                <div class="card">
                                    <div class="card-body" style="background-color:brown;">
                                        <h3 id="Hours"></h3>
                                        <p>Hours</p>
                                    </div>
                                </div>
                            </div>
                            <div style="height:80px;width:80px;">
                                <div class="card">
                                    <div class="card-body" style="background-color:brown;">
                                        <h3 id="Minute"></h3>
                                        <p>Minute</p>
                                    </div>
                                </div>
                            </div>
                            <div style="height:80px;width:80px;">
                                <div class="card">
                                    <div class="card-body" style="background-color:brown;">
                                        <h3 id="second"></h3>
                                        <p>Seconds</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="item">
                    <img src="~/images/banner.jpg" alt="New York" style="max-height:400px; width:100%">
                    <div class="carousel-caption">

                        <div class="card" style="height:80px;width:80px;background-color:brown;">
                            <div class="card-body">
                                <h3>371</h3>
                                <p>Days</p>
                            </div>
                        </div>


                        <div class="card" style="height:80px;width:80px;background-color:brown;">
                            <div class="card-body">
                                <h3>371</h3>
                                <p>Days</p>
                            </div>
                        </div>


                        <div class="card" style="height:80px;width:80px;background-color:brown;">
                            <div class="card-body">
                                <h3>371</h3>
                                <p>Days</p>
                            </div>
                        </div>


                        <div class="card" style="height:80px;width:80px;background-color:brown;">
                            <div class="card-body">
                                <h3>371</h3>
                                <p>Days</p>
                            </div>
                        </div>

                    </div>
                </div>*@

        </div>

        <!-- Left and right controls -->
        <a class="left carousel-control" href="#myCarousel" data-slide="prev">
            <span class="glyphicon glyphicon-chevron-left"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#myCarousel" data-slide="next">
            <span class="glyphicon glyphicon-chevron-right"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
</div>
<script src="~/Scripts/jquery-3.3.1.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

@*<script>
        var lstTimer = @Html.Raw(Json.Encode(ViewBag.BannerList));


        function _SetTimerDisplay(objTime, label) {
            debugger
            var now = new Date().getTime();
            // Find the distance between now and the count down date
            var distance = (new Date(objTime.EndDate).getTime()) - now;
            // Time calculations for days, hours, minutes and seconds
            var days = Math.floor(distance / (1000 * 60 * 60 * 24));
            var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            var seconds = Math.floor((distance % (1000 * 60)) / 1000);
            // If the count down is over, write some text
            if (distance < 0) {
                //clearInterval(x);
                objTime.Name = "EXPIRED";
                document.getElementById(label).innerHTML = "EXPIRED";
            }
            else {

                // Display the result in the element with id="demo"
                document.getElementById('dday').innerHTML = days + "d ";
                document.getElementById('Hour').innerHTML = hours + "h ";
                document.getElementById('Minute').innerHTML = minutes + "m ";
                document.getElementById('second').innerHTML = seconds + "s ";
                //document.getElementById(label).innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";
            }
        }

        function UpdateTimer() {
            debugger
            for (var i = 0; i < lstTimer.length; i++) {
                var iCount = 0;
                if (lstTimer[i].Name != 'EXPIRED') {
                    _SetTimerDisplay(lstTimer[i], "Display" + (i + 1));
                    iCount++;
                }
            }
            var vFound = lstTimer.find(function (element) {
                return (element.Name != "EXPIRED" ? true : false);
            });
            if (vFound == undefined) {
                clearInterval(x);
            }
        }

        var x = setInterval(function () {
            UpdateTimer();
        }, 1000);
    </script>*@